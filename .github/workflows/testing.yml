name: Test Workflow
on: push
jobs:
  test:
    runs-on: ubuntu-22.04
    steps:
      - name: Get repo code!
        uses: actions/checkout@v4
      - name: Goto backend folder
        run: cd backend
      #- name: Установка Node.js
      #  uses: actions/setup-node@v2
      #  with:
      #    node-version: '20'
      - name: Install backend dependencies
        run: npm install --prefix backend
      #- name: Run backend tests
      #  run: npm run test --prefix backend
      - name: Build the stack
        run: |
          docker-compose -f docker-compose-github-actions.yml build
          docker-compose -f docker-compose-github-actions.yml up